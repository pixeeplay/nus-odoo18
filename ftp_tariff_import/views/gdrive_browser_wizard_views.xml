<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ============================================
         GOOGLE DRIVE BROWSER WIZARD - VIEWS
         ============================================ -->

    <!-- Form View for GDrive Browser Wizard -->
    <record id="view_ftp_gdrive_browser_wizard_form" model="ir.ui.view">
        <field name="name">ftp.gdrive.browser.wizard.form</field>
        <field name="model">ftp.gdrive.browser.wizard</field>
        <field name="arch" type="xml">
            <form string="Navigateur Google Drive">
                <sheet>
                    <div class="oe_title">
                        <h1>üìÅ Parcourir Google Drive</h1>
                    </div>
                    
                    <group>
                        <group>
                            <field name="provider_id" readonly="1"/>
                            <field name="target_field"/>
                        </group>
                        <group>
                            <field name="breadcrumb" readonly="1" string="Chemin actuel"/>
                            <field name="current_folder_id" invisible="1"/>
                        </group>
                    </group>
                    
                    <!-- Barre de navigation -->
                    <div class="mb-3">
                        <button name="action_go_up" type="object" string="‚¨ÜÔ∏è Dossier parent" class="btn-secondary me-2"/>
                        <button name="action_refresh" type="object" string="üîÑ Rafra√Æchir" class="btn-secondary me-2"/>
                        <button name="action_select_folder" type="object" string="‚úÖ S√©lectionner ce dossier" class="btn-primary"/>
                    </div>
                    
                    <!-- Liste des items (dossiers et fichiers) -->
                    <field name="item_ids" nolabel="1">
                        <list create="0" delete="0" decoration-bf="is_folder">
                            <field name="icon" string=" " readonly="1"/>
                            <field name="name" string="Nom"/>
                            <field name="is_folder" column_invisible="1"/>
                            <field name="folder_id" column_invisible="1"/>
                            <field name="size_display" string="Taille"/>
                            <button name="action_open_folder" type="object" string="üìÇ Ouvrir" 
                                    icon="fa-folder-open" invisible="not is_folder"/>
                            <button name="action_select_as_import_folder" type="object" 
                                    string="‚úÖ S√©lectionner" icon="fa-check" 
                                    invisible="not is_folder" class="btn-link text-success"/>
                        </list>
                    </field>
                    
                    <div class="alert alert-info mt-3" role="alert">
                        <strong>üí° Astuce:</strong> Double-cliquez sur un dossier pour l'ouvrir, 
                        ou utilisez le bouton "Ouvrir". Cliquez sur "S√©lectionner ce dossier" pour 
                        d√©finir le dossier courant comme dossier d'import/export.
                    </div>
                </sheet>
                <footer>
                    <button string="Fermer" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- Action for GDrive Browser Wizard -->
    <record id="action_ftp_gdrive_browser_wizard" model="ir.actions.act_window">
        <field name="name">Parcourir Google Drive</field>
        <field name="res_model">ftp.gdrive.browser.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

</odoo>
