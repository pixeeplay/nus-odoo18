<?xml version="1.0" encoding="utf-8"?>
<odoo>

        <record id="ir_cron_auto_align_market" model="ir.cron">
            <field name="name">AI: Automated Market Price Alignment</field>
            <field name="model_id" ref="model_chatgpt_config"/>
            <field name="state">code</field>
            <field name="code">model.action_cron_automated_alignment()</field>
            <field name="user_id" ref="base.user_root"/>
            <field name="interval_number">24</field>
            <field name="interval_type">hours</field>
            <field name="active" eval="False"/>
        </record>

        <!-- Unified Pipeline Cron: Enrich (Ollama) + Collect (SearXNG) every 3 min -->
        <record id="ir_cron_ai_pipeline" model="ir.cron">
            <field name="name">AI Enrichment - Pipeline (Parallel)</field>
            <field name="model_id" ref="model_product_enrichment_queue"/>
            <field name="state">code</field>
            <field name="code">model._cron_process_pipeline()</field>
            <field name="user_id" ref="base.user_root"/>
            <field name="interval_number">3</field>
            <field name="interval_type">minutes</field>
            <field name="active" eval="True"/>
        </record>

        <!-- Legacy: SearXNG Collection (disabled, kept as fallback) -->
        <record id="ir_cron_ai_collect_searxng" model="ir.cron">
            <field name="name">AI Enrichment - Web Data Collection (SearXNG) [legacy]</field>
            <field name="model_id" ref="model_product_enrichment_queue"/>
            <field name="state">code</field>
            <field name="code">model._cron_collect_web_data()</field>
            <field name="user_id" ref="base.user_root"/>
            <field name="interval_number">5</field>
            <field name="interval_type">minutes</field>
            <field name="active" eval="False"/>
        </record>

        <!-- Legacy: Ollama Enrichment (disabled, kept as fallback) -->
        <record id="ir_cron_ai_enrich_ollama" model="ir.cron">
            <field name="name">AI Enrichment - Ollama Processing [legacy]</field>
            <field name="model_id" ref="model_product_enrichment_queue"/>
            <field name="state">code</field>
            <field name="code">model._cron_enrich_ollama()</field>
            <field name="user_id" ref="base.user_root"/>
            <field name="interval_number">10</field>
            <field name="interval_type">minutes</field>
            <field name="active" eval="False"/>
        </record>

</odoo>

