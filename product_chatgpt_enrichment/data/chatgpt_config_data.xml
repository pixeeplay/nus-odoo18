<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Default AI Configuration (created once, never overwritten on upgrade) -->
        <record id="default_chatgpt_config" model="chatgpt.config">
            <field name="name">Default AI Configuration</field>
            <field name="provider">openai</field>
            <field name="ai_model_name">gpt-4o-mini</field>
            <field name="auto_enrich" eval="False"/>
            <field name="max_tokens">2000</field>
            <field name="temperature">0.7</field>
            <field name="active" eval="True"/>
        </record>
    </data>

    <!-- Force update on every upgrade to keep SearXNG config in sync -->
    <data noupdate="0">
        <record id="searxng_ollama_config" model="chatgpt.config">
            <field name="name">SearXNG + Ollama (Llama 3.1 8B)</field>
            <field name="provider">ollama</field>
            <field name="base_url">http://100.80.237.65:11434</field>
            <field name="api_endpoint">/api/chat</field>
            <field name="ollama_api_mode">native</field>
            <field name="model_id" eval="False"/>
            <field name="ai_model_name">llama3.1:8b</field>
            <field name="auto_enrich" eval="False"/>
            <field name="max_tokens">4000</field>
            <field name="temperature">0.3</field>
            <field name="active" eval="True"/>
            <field name="is_default" eval="False"/>
            <!-- SearXNG enabled -->
            <field name="searxng_enabled" eval="True"/>
            <field name="searxng_base_url">http://searxng:8080</field>
            <field name="searxng_engines">google,duckduckgo,amazon,wikipedia</field>
            <field name="searxng_language">fr-FR</field>
            <field name="searxng_max_results">8</field>
            <field name="searxng_timeout">15</field>
            <field name="searxng_delay">3.0</field>
            <!-- Pipeline settings -->
            <field name="enrichment_batch_size_collect">20</field>
            <field name="enrichment_batch_size_enrich">10</field>
            <field name="enrichment_auto_publish" eval="False"/>
            <field name="enrichment_overwrite_existing" eval="False"/>
        </record>
    </data>
</odoo>
