<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Sync Log List View -->
    <record id="pm_sync_log_view_list" model="ir.ui.view">
        <field name="name">pm.sync.log.list</field>
        <field name="model">pm.sync.log</field>
        <field name="arch" type="xml">
            <list string="Sync Logs" create="0" edit="0"
                  decoration-danger="operation == 'error'"
                  decoration-success="operation == 'sync'"
                  decoration-info="operation == 'import'"
                  decoration-muted="operation == 'search'">
                <field name="create_date" string="Date"/>
                <field name="operation" widget="badge"
                       decoration-danger="operation == 'error'"
                       decoration-success="operation == 'sync'"
                       decoration-info="operation == 'import'"/>
                <field name="message"/>
                <field name="product_count"/>
                <field name="config_id"/>
            </list>
        </field>
    </record>

    <!-- Sync Log Form View -->
    <record id="pm_sync_log_view_form" model="ir.ui.view">
        <field name="name">pm.sync.log.form</field>
        <field name="model">pm.sync.log</field>
        <field name="arch" type="xml">
            <form string="Sync Log" create="0" edit="0">
                <group>
                    <field name="create_date"/>
                    <field name="operation"/>
                    <field name="message"/>
                    <field name="product_count"/>
                    <field name="config_id"/>
                    <field name="session_id"/>
                </group>
            </form>
        </field>
    </record>

    <!-- Sync Log Search View -->
    <record id="pm_sync_log_view_search" model="ir.ui.view">
        <field name="name">pm.sync.log.search</field>
        <field name="model">pm.sync.log</field>
        <field name="arch" type="xml">
            <search string="Search Logs">
                <field name="message"/>
                <field name="operation"/>
                <filter name="errors" string="Errors"
                        domain="[('operation', '=', 'error')]"/>
                <filter name="imports" string="Imports"
                        domain="[('operation', '=', 'import')]"/>
                <filter name="syncs" string="Syncs"
                        domain="[('operation', '=', 'sync')]"/>
                <group expand="0" string="Group By">
                    <filter name="group_operation" string="Operation"
                            context="{'group_by': 'operation'}"/>
                    <filter name="group_date" string="Date"
                            context="{'group_by': 'create_date:day'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Sync Log Action -->
    <record id="action_pm_sync_log" model="ir.actions.act_window">
        <field name="name">Sync Logs</field>
        <field name="res_model">pm.sync.log</field>
        <field name="view_mode">list,form</field>
    </record>

</odoo>
